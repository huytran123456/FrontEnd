<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>LAB 5</title>

    <!-- Fonts -->
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous"
    />
</head>
<body>
<a class="btn btn-primary" href="index.html" role="button">List</a>
<a class="btn btn-primary" href="Create.html" role="button">Create</a>
<a class="btn btn-primary" href="Update.html" role="button">Update</a>
<div>
    <h1><strong id="hello_user"></strong></h1>
</div>
<div class="container-xl">
    <form class="border border-light p-5">
        <p class="h4 mb-4 text-center"><strong>LOGIN</strong></p>
        <input
                type="text"
                id="email"
                class="form-control mb-4"
                placeholder="Email"
                required
        />
        <input
                type="text"
                id="password"
                class="form-control mb-4"
                placeholder="Password"
                required
        />
        <button
                class="btn btn-dark-green btn-block my-4"
                style="background-color: green"
                id="login_button"
                type="click"
        >
            Login
        </button>
    </form>
</div>

<script src="js/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
<link
        href="http://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css"
        rel="stylesheet"
/>
<script src="http://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"
></script>
<script type="text/javascript">
    window.axios.defaults.headers.common = {
        'X-Requested-With': 'XMLHttpRequest',
        //'X-CSRF-TOKEN' : document.querySelector('meta[name="csrf-token"]').getAttribute('content'),
        'Content-Type': 'application/json',
        'Accept': 'application/json',
    };
    // const axios = require('axios')
    $(document).ready(
        $("#login_button").click(function () {
            event.preventDefault()
            axios
                .post("http://trandinhhuy.ete.com/api/auth/login", {
                    email: document.getElementById("email").value,
                    password: document.getElementById("password").value,
                })
                .then((response) => {
                    console.log(response)
                    document.getElementById("hello_user").innerHTML
                        = "Hello "
                        + response.data.user.first_name
                        + " "
                        + response.data.user.last_name;
                })
                .catch(function (error) {
                    console.log(error.response);
                    //   return
                })
        })
    );
</script>
</body>
</html>
